<div class="container bg-light rounded mt-3 p-3">
  <h1>Encuesta</h1>

  <form [formGroup]="form" (ngSubmit)="enviarForm()">

    <div class="row">
      <div class="form-control-group col-5">
        <label class="form-label" for="nombre">Nombre</label>
        <input type="text" class="form-control" id="nombre" formControlName="nombre">

        <ng-container *ngIf="nombre?.hasError('pattern')">
          <small class="text-danger">Sólo debe contener solo letras</small>
        </ng-container>

        <ng-container *ngIf="nombre?.hasError('required') && nombre?.touched">
          <small class="text-danger">Este campo es obligatorio</small>
        </ng-container>

      </div>

      <div class="form-control-group col-5">
        <label class="form-label" for="apellido">Apellido</label>
        <input type="text" class="form-control" id="apellido" formControlName="apellido">

        <ng-container *ngIf="apellido?.hasError('pattern')">
          <small class="text-danger">Sólo debe contener solo letras</small>
        </ng-container>

        <ng-container *ngIf="apellido?.hasError('required') && apellido?.touched">
          <small class="text-danger">Este campo es obligatorio</small>
        </ng-container>

      </div>
    </div>

    <div class="row">
      <div class="form-control-group col-5">
        <label class="form-label" for="edad">Edad</label>
        <input type="number" class="form-control" id="edad" formControlName="edad">

        <ng-container *ngIf="edad?.hasError('min')">
          <small class="text-danger">Debe ser mayor de 18 años</small>
        </ng-container>

        <ng-container *ngIf="edad?.hasError('max')">
          <small class="text-danger">Debe tener menos de 100 años</small>
        </ng-container>

        <ng-container *ngIf="edad?.hasError('required') && edad?.touched">
          <small class="text-danger">Este campo es obligatorio</small>
        </ng-container>
      </div>

      <div class="form-control-group col-5">
        <label class="form-label" for="telefono">Telefono</label>
        <input type="text" class="form-control" id="telefono" formControlName="telefono">

        <ng-container *ngIf="telefono?.hasError('pattern')">
          <small class="text-danger">Debe contener exactamente 10 dígitos numéricos</small>
        </ng-container>

        <ng-container *ngIf="telefono?.hasError('required') && telefono?.touched">
          <small class="text-danger">Este campo es obligatorio</small>
        </ng-container>

      </div>
    </div>

    <div class="row">
      <div class="form-control-group col-5">
        <label class="form-label">Alumno regular</label>
        <div class="form-check">
          <input id="yes" formControlName="alumnoRegular" type="radio" class="form-check-input" value="yes" checked required>
          <label class="form-check-label" for="yes">Si</label>
        </div>
        <div class="form-check">
          <input id="no" formControlName="alumnoRegular" type="radio" class="form-check-input" value="no" required>
          <label class="form-check-label" for="no">No</label>
        </div>

        <ng-container *ngIf="alumnoRegular?.hasError('required') && alumnoRegular?.touched">
          <small class="text-danger">Este campo es obligatorio.</small>
        </ng-container>

      </div>

      <div class="form-control-group col-5">
        <label class="form-label">Lenguajes</label>
        <div [formGroup]="lenguajes">

          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="csharp" formControlName="csharp">
            <label class="form-check-label" for="csharp">C#</label>
          </div>

          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="php" formControlName="php">
            <label class="form-check-label" for="php">PHP</label>
          </div>

          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="javascript" formControlName="javascript">
            <label class="form-check-label" for="javascript">Javascript</label>
          </div>

          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="python" formControlName="python">
            <label class="form-check-label" for="python">Python</label>
          </div>

        </div>
      </div>

    </div>

    <div class="row">
      <div class="form-control-group col-10">
        <label class="form-label" for="feedback">Feedback</label>
        <textarea class="form-control" id="feedback" formControlName="feedback"></textarea>

        <ng-container *ngIf="feedback?.hasError('required') && feedback?.touched">
          <small class="text-danger">Este campo es obligatorio.</small>
        </ng-container>

      </div>
    </div>

    <div class="row">
      <ng-container *ngIf="form.invalid && form.dirty">
        <small class="text-danger">Por favor complete todos los campos correctamente.</small>
      </ng-container>
    </div>

    <button type="submit" class="btn btn-primary w-25 mt-4" [disabled]="form.invalid">
      Enviar
    </button>

  </form>

</div>
